{"version":3,"file":"selectable-item.js","sourceRoot":"","sources":["selectable-item.ts"],"names":[],"mappings":"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","sourcesContent":["import { SelectService } from '../service/select.service';\r\n\r\nexport class SelectableItem {\r\n  public _selected = false;\r\n  public children?: SelectableItem[];\r\n  public isOpen = false;\r\n  public matchFilter = true;\r\n  public isVisible = false;\r\n\r\n  constructor(public id: string, public text: string, public data: any, public svc: SelectService) {\r\n  }\r\n\r\n  get hasChild(): boolean {\r\n    return this.children && this.children.length > 0;\r\n  }\r\n  get checked(): boolean {\r\n    if (this.hasChild && this.svc.Configuration.allowMultiple) {\r\n      if (this.children.every(child => child.selected)) {\r\n        return true;\r\n      } else if (this.children.every(child => child.selected === false)) {\r\n        return this._selected;\r\n      }\r\n      return null;\r\n    }\r\n    return this._selected;\r\n  }\r\n  get selected(): boolean {\r\n    if (this.hasChild && this.svc.Configuration.allowMultiple) {\r\n      if (this.children.some(child => child.selected)) {\r\n        if (this.svc.Configuration.onlySelectParent) {\r\n          this._selected = false;\r\n        }\r\n        return true;\r\n      } else if (this.children.every(child => child.selected === false)) {\r\n        if (this.svc.Configuration.onlySelectParent) {\r\n          return this._selected;\r\n        } else {\r\n          return this._selected = false;\r\n        }\r\n      }\r\n      return false;\r\n    } else if (this.hasChild && this._selected === true) {\r\n      for (let itm of this.children) {\r\n        itm.selected = false;\r\n      }\r\n    }\r\n\r\n    return this._selected;\r\n  }\r\n  set selected(value: boolean) {\r\n    if (this.hasChild && !this.svc.Configuration.onlySelectParent) {\r\n      if (value !== null) {\r\n        this.children.forEach(child => child.selected = value);\r\n      }\r\n    } else {\r\n      this._selected = value;\r\n    }\r\n  }\r\n}\r\n"]}